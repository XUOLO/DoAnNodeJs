{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\frontend\\\\src\\\\component\\\\AddStudent.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddStudent = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const roleLogin = localStorage.getItem('role');\n  const [name, setName] = React.useState('');\n  const [age, setAge] = React.useState('');\n  const [address, settaddress] = React.useState('');\n  const [error, setError] = React.useState(false);\n  const auth = localStorage.getItem('user');\n  const idClass = localStorage.getItem('idClass');\n  const token = JSON.parse(auth).data;\n\n  const AddStudentToClass = async () => {\n    if (!name || !age || !address) {\n      setError(true);\n      return false;\n    }\n\n    let response = await fetch('http://localhost:3000/students/add', {\n      method: 'post',\n      body: JSON.stringify({\n        name,\n        age,\n        address,\n        class_k: idClass\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.ok) {\n      const result = await response.json();\n      console.log(result);\n      navigate('/class/detailClass/' + idClass);\n      localStorage.removeItem('idClass');\n    } else {\n      const result = await response.json();\n      const errorMessage = result.data;\n      console.error('Error:', response.status);\n      alert(errorMessage);\n      const data = await result.json();\n      setError(data.data);\n    }\n  };\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (roleLogin === '\"user\"') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Ban khong du quyen.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Add student name\",\n      className: \"inputBox\",\n      value: name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this), error && !name && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"invalid-input\",\n      children: \"Enter Valid name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Add student address\",\n      className: \"inputBox\",\n      value: address,\n      onChange: e => settaddress(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }, this), error && !address && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"invalid-input\",\n      children: \"Enter Valid address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Add student age\",\n      className: \"inputBox\",\n      value: age,\n      onChange: e => setAge(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this), error && !age && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"invalid-input\",\n      children: \"Enter Valid age\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: AddStudentToClass,\n      className: \"appButton\",\n      children: \"Add student\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddStudent, \"VwFV1jBgGGakNTaPf59fH71kS/U=\", false, function () {\n  return [useNavigate];\n});\n\n_c = AddStudent;\nexport default AddStudent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddStudent\");","map":{"version":3,"names":["React","useNavigate","AddStudent","navigate","roleLogin","localStorage","getItem","name","setName","useState","age","setAge","address","settaddress","error","setError","auth","idClass","token","JSON","parse","data","AddStudentToClass","response","fetch","method","body","stringify","class_k","headers","Authorization","ok","result","json","console","log","removeItem","errorMessage","status","alert","e","target","value"],"sources":["C:/Users/admin/Desktop/frontend/src/component/AddStudent.js"],"sourcesContent":["import React from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n \r\nconst AddStudent = () => {\r\n    const navigate = useNavigate();\r\n    const roleLogin = localStorage.getItem('role')\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [age, setAge] = React.useState('');\r\n\r\n    const [address, settaddress] = React.useState('');\r\n   \r\n    const [error, setError] = React.useState(false);\r\n    const auth = localStorage.getItem('user')\r\n    const idClass = localStorage.getItem('idClass')\r\n\r\n    const token = JSON.parse(auth).data;\r\n    const AddStudentToClass = async ()=>{\r\n        if(!name  ||!age ||!address   ){\r\n            setError(true)\r\n            return false\r\n        }\r\n           let response = await fetch('http://localhost:3000/students/add',{\r\n            method:'post',\r\n            body:JSON.stringify({name,age,address ,class_k:idClass}),\r\n            headers:{\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`, \r\n            }\r\n        })\r\n\r\n        if (response.ok) {\r\n            const result = await response.json();\r\n            console.log(result);\r\n            \r\n             navigate('/class/detailClass/'+idClass);\r\n             localStorage.removeItem('idClass')\r\n          } else {\r\n            const result = await response.json();\r\n            const errorMessage = result.data;\r\n            console.error('Error:', response.status);\r\n            alert(errorMessage);\r\n            const data = await result.json();\r\n            setError(data.data);\r\n           }\r\n\r\n        \r\n    }\r\n    if (error) {\r\n        return <h1>Error: {error}</h1>;\r\n      }\r\n      if (roleLogin==='\"user\"') {\r\n        return (\r\n          <div className=\"product\">\r\n            <h1>Ban khong du quyen.</h1>\r\n          </div>\r\n        );\r\n      }\r\n    \r\n      return (\r\n        <div className=\"product\">\r\n          <h1>Add student</h1>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add student name\"\r\n            className=\"inputBox\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          {error && !name && <span className=\"invalid-input\">Enter Valid name</span>}\r\n    \r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add student address\"\r\n            className=\"inputBox\"\r\n            value={address}\r\n            onChange={(e) => settaddress(e.target.value)}\r\n          />\r\n          {error && !address && <span className=\"invalid-input\">Enter Valid address</span>}\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add student age\"\r\n            className=\"inputBox\"\r\n            value={age}\r\n            onChange={(e) => setAge(e.target.value)}\r\n          />\r\n          {error && !age && <span className=\"invalid-input\">Enter Valid age</span>}\r\n    \r\n          \r\n          <button onClick={AddStudentToClass} className=\"appButton\">\r\n            Add student\r\n          </button>\r\n        </div>\r\n      );\r\n    };\r\n    \r\n    export default AddStudent;"],"mappings":"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"},"metadata":{},"sourceType":"module"}